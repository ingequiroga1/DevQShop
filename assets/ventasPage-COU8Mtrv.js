import{d as p,e as m,o as s,c as r,a as t,F as i,p as _,t as o,u as v,i as y,_ as b,q as f,b as h}from"./index-C59Uo872.js";import{g}from"./ventasService-CYiKI_jm.js";const V=d=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(d),k=["onClick"],x={colspan:"4"},C={class:"details-table"},N=p({__name:"tablaVentas",props:{ventas:{type:Array,required:!0}},setup(d){const l=m(null),c=n=>{l.value=l.value===n?null:n};return(n,a)=>(s(),r("div",null,[t("table",null,[a[1]||(a[1]=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Fecha"),t("th",null,"Total"),t("th",null,"Detalles")])],-1)),t("tbody",null,[(s(!0),r(i,null,_(d.ventas,e=>(s(),r(i,{key:e.venta_id},[t("tr",null,[t("td",null,o(e.venta_id),1),t("td",null,o(new Date(e.fecha_venta).toLocaleString()),1),t("td",null,o(v(V)(e.total)),1),t("td",null,[t("button",{class:"bg-secondary-color text-white px-2 py-1 rounded hover:bg-red-600",onClick:u=>c(e.venta_id)},o(l.value===e.venta_id?"Ocultar":"Ver"),9,k)])]),l.value===e.venta_id?(s(),r("tr",{key:"details-"+e.venta_id},[t("td",x,[t("table",C,[a[0]||(a[0]=t("thead",null,[t("tr",null,[t("th",null,"Producto"),t("th",null,"Cantidad"),t("th",null,"Subtotal")])],-1)),t("tbody",null,[(s(!0),r(i,null,_(e.detalle,u=>(s(),r("tr",{key:u.producto},[t("td",null,o(u.producto),1),t("td",null,o(u.cantidad),1),t("td",null,o(u.subtotal),1)]))),128))])])])])):y("",!0)],64))),128))])])]))}}),w=b(N,[["__scopeId","data-v-13852c6d"]]),S=p({__name:"ventasPage",setup(d){const l=m([]);f(()=>{c()});const c=async()=>{const n=await g();n.success?(l.value=n.data,console.log(l.value)):console.log(n.error)};return(n,a)=>(s(),r("div",null,[a[0]||(a[0]=t("h1",null,"Ventas",-1)),h(w,{ventas:l.value},null,8,["ventas"])]))}});export{S as default};
